
## 📄 5. 공구 상세 페이지

### 📍 화면 구성

```
┌───────────────────────────────────────────────┐
│  ← 뒤로가기        🍝 까르보나라 재료 공구       │
│                    (🍳 레시피 기반)            │
├───────────────────────────────────────────────┤
│              [이미지 갤러리]                    │
│           [◀ 이미지1 이미지2 이미지3 ▶]         │
├───────────────────────────────────────────────┤
│  👤 주최자: 홍길동 (⭐ 매너온도 37.2°C) [프로필] │
│  📅 등록일: 2025-10-25  |  ⏰ 마감: D-2 🔥     │
├───────────────────────────────────────────────┤
│  💰 가격 정보                                   │
│  총 금액: 60,000원                             │
│  목표 인원: 5명                                 │
│  → 1인당: 12,000원                             │
├───────────────────────────────────────────────┤
│  👥 진행 상황                                   │
│  ▓▓▓▓▓▓░░░░ 3/5명 (60%)                       │
│  상태: 모집중 🟢                                │
├───────────────────────────────────────────────┤
│  📍 수령 방법                                   │
│  🚶 직거래: 서울대학교 정문                     │
│  📦 택배: 가능 (+3,000원)                      │
├───────────────────────────────────────────────┤
│  🆕 [연동된 레시피 보기] 버튼 ← 레시피 기반만!  │
│       (클릭 시 레시피 상세로 이동)              │
├───────────────────────────────────────────────┤
│  📝 상세 설명                                   │
│  이 레시피를 만들기 위한 재료 공동구매입니다.    │
│                                                │
│  필요한 재료:                                   │
│  - 스파게티 면 400g                            │
│  - 베이컨 200g                                 │
│  - 달걀 4개                                    │
│  - 파마산 치즈 100g                            │
│  - 생크림 200ml                                │
│  ...                                          │
├───────────────────────────────────────────────┤
│  👥 참여자 목록 (공개인 경우)                   │
│  1. 홍길동 (주최자) ⭐37.2°C                   │
│  2. 김철수 ⭐36.8°C                            │
│  3. 이영희 ⭐37.5°C                            │
│  (비공개면 "주최자만 볼 수 있습니다")           │
├───────────────────────────────────────────────┤
│  💬 댓글 (Q&A/일반)                            │
│  [Q&A] [일반] 탭                               │
│                                                │
│  김철수: 택배비 포함인가요?                     │
│  └─ 홍길동(주최자): 네, 포함입니다!             │
│                                                │
│  이영희: 언제 만나나요?                         │
│  └─ 홍길동: 11/20 오후 6시입니다               │
│                                                │
│  [댓글 입력창]                                  │
│  [일반댓글] [Q&A질문]  [등록]                   │
├───────────────────────────────────────────────┤
│  [참여하기] [찜하기 ♡] [공유하기 📤] 버튼 (큼)  │
│  (주최자면 [수정] [삭제] [참여자 관리] 표시)    │
└───────────────────────────────────────────────┘

```

### 🎬 사용자 액션 흐름

### 1) 이미지 갤러리 조작

- **좌우 화살표**: 클릭 시 이미지 슬라이드
~~- **이미지 클릭**: 전체 화면 확대 보기 (모달)~~
~~- **닷 인디케이터**: 클릭 시 해당 이미지로 이동~~

~~### 2) 주최자 정보 확인~~

- **닉네임 클릭**: 프로필 페이지로 이동
  - 클릭 시 주최자가 등록한 공구 목록 표시
  
- ~~- **매너온도**: hover 시 툴팁 (설명 표시)~~
    ~~- "36.5°C가 기본이며, 좋은 거래 시 상승합니다"~~

### 3) 진행 상황 실시간 확인

- **진행률 바**:
    - 60% 미만: 회색
    - 60-99%: 파랑
    - 100%: 초록 (목표 달성)
- **상태 표시**:
    - 🟢 모집중: 마감 전 + 미달성
    - 🟠 마감임박: D-1, D-2
    - 🔴 모집마감: 목표 달성 또는 마감일 지남

### 4) [연동된 레시피 보기] 버튼 (레시피 기반 공구만)

- **표시 조건**: 레시피 기반 공구인 경우만
- **클릭**: 해당 레시피 상세 페이지로 이동
- **버튼 스타일**: 눈에 띄는 색상 (주황/녹색)

### 5) 참여자 목록 확인

- **공개 설정인 경우**:
    - 참여자 닉네임 + 매너온도 표시
    - 주최자 표시 (왕관 아이콘)
    - 닉네임 클릭 시 프로필 이동
- **비공개 설정인 경우**:
    - "참여자 목록은 주최자만 볼 수 있습니다" 메시지
    - 주최자 본인이면 전체 목록 표시

### 6) 댓글 작성 및 조회

- **[Q&A] 탭**:
    - 질문 형식 댓글만
    - 주최자 답변에 하이라이트
    - 답변 없으면 "답변 대기중" 배지
- **[일반] 탭**:
    - 자유로운 댓글
    - 참여자끼리 소통
    - 최신순 정렬
- **댓글 작성**:
    - 로그인 필수
    - [일반댓글] [Q&A질문] 라디오 버튼 선택
    - 텍스트 입력 (최대 500자)
    - [등록] 버튼 클릭 → 즉시 반영
- **댓글 수정/삭제**:
    - 본인 댓글에만 [수정] [삭제] 버튼 표시
    - 수정: 인라인 편집 모드 전환
    - 삭제: "삭제하시겠습니까?" 확인 → 삭제

### 7) [참여하기] 버튼 클릭 ⭐핵심⭐

- **로그인 확인**:
    - 비로그인 → 로그인 페이지 리다이렉트
- **참여 가능 여부 확인**:
    - 주최자 본인 → "본인이 만든 공구입니다" 알림
    - 이미 참여 중 → "이미 참여 중입니다" 알림 + [참여 취소] 버튼
    - 목표 인원 달성 → "모집이 마감되었습니다" 알림
    - 마감일 지남 → "마감된 공구입니다" 알림
- **참여 가능 시**:
    - 확인 팝업: "참여하시겠습니까?"
        - 수령 방법 선택 (직거래/택배 중 선택)
        - 수량 입력 (기본 1개)
    - [확인] 클릭:
        - 참여 정보 DB 저장
        - 진행률 실시간 업데이트 (3명 → 4명)
        - 진행률 바 색상 변화 (60% → 80%)
        - "참여가 완료되었습니다!" 알림
        - 알림 생성: 주최자에게 "OOO님이 참여했습니다" 알림
- **참여 후 화면 변화**:
    - [참여하기] → [참여 취소] 버튼으로 변경
    - 참여자 목록에 내 닉네임 추가

### 8) [찜하기 ♡] 버튼 클릭

- **로그인 확인**: 비로그인 → 로그인 페이지
- **찜 추가**:
    - 빈 하트 ♡ → 꽉 찬 하트 ♥ (색상 빨강)
    - "찜 목록에 추가되었습니다" 토스트 알림
    - 마이페이지 > 찜 목록에 추가됨
- **찜 해제**:
    - 꽉 찬 하트 ♥ → 빈 하트 ♡
    - "찜 목록에서 제거되었습니다" 토스트 알림

### 9) [공유하기 📤] 버튼 클릭

- **공유 옵션 팝업**:
    - 📋 링크 복사: 클릭 시 URL 클립보드 복사 → "링크가 복사되었습니다"
    - 💬 카카오톡: (선택) 카카오톡 공유 API (시간 있으면)
    - 📧 이메일: mailto 링크
    - ✖️ 닫기

### 10) 주최자 전용 기능 (본인인 경우)

- **[수정] 버튼**:
    - 클릭 시 공구 수정 페이지로 이동
    - 기존 정보 자동 입력됨
    - 수정 불가 항목: 레시피 연동 여부 (레시피는 변경 불가)
- **[삭제] 버튼**:
    - 클릭 시 확인 팝업: "참여자가 있는 경우 삭제할 수 없습니다"
    - 참여자 없으면: "정말 삭제하시겠습니까?" 확인
    - [확인] → 삭제 후 공구 목록으로 이동
- **[참여자 관리] 버튼**:
    - 클릭 시 참여자 목록 팝업 또는 페이지
    - 표시 정보:
        - 닉네임, 매너온도
        - 참여일시
        - 수령 방법 (직거래/택배)
        - 수량
        - 연락처 (선택 시 공개한 경우)
    - 액션:
        - [1:1 쪽지] 버튼 (선택 기능)
        - [강제 탈퇴] 버튼 (문제 사용자 제외)

### 11) [참여 취소] 버튼 클릭 (참여 후)

- **취소 확인 팝업**:
    - "참여를 취소하시겠습니까?"
    - 주의 사항: "마감 1일 전부터는 취소가 제한될 수 있습니다"
- **[확인] 클릭**:
    - 참여 정보 삭제
    - 진행률 감소 (4명 → 3명)
    - 진행률 바 색상 변화 (80% → 60%)
    - "참여가 취소되었습니다" 알림
    - 알림 생성: 주최자에게 "OOO님이 참여를 취소했습니다" 알림
- **취소 후 화면 변화**:
    - [참여 취소] → [참여하기] 버튼으로 변경
    - 참여자 목록에서 내 닉네임 제거
