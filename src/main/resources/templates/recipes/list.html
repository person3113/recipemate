<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>레시피 검색 - RecipeMate</title>
</head>
<body>
    <h1>레시피 검색</h1>
    
    <!-- Search Form -->
    <form method="get" action="/recipes">
        <input type="text" name="keyword" th:value="${keyword}" placeholder="레시피 검색 (예: chicken, 김치찌개)">
        <button type="submit">검색</button>
    </form>
    
    <!-- Recipe List -->
    <div th:if="${recipes != null}">
        <div th:if="${recipes.recipes.isEmpty()}">
            <p>검색 결과가 없습니다.</p>
        </div>
        
        <div th:if="${!recipes.recipes.isEmpty()}">
            <p>총 <span th:text="${recipes.totalCount}"></span>개의 레시피를 찾았습니다.</p>
            <p>데이터 출처: <span th:text="${recipes.source}"></span></p>
            
            <div th:each="recipe : ${recipes.recipes}" class="recipe-item">
                <h3><a th:href="@{/recipes/{id}(id=${recipe.id})}" th:text="${recipe.name}"></a></h3>
                <img th:if="${recipe.imageUrl != null}" th:src="${recipe.imageUrl}" th:alt="${recipe.name}" width="200">
                <p>카테고리: <span th:text="${recipe.category}"></span></p>
                <p>출처: <span th:text="${recipe.source}"></span></p>
            </div>
        </div>
    </div>
    
    <div th:if="${recipes == null}">
        <p>검색어를 입력하여 레시피를 찾아보세요.</p>
    </div>
    
    <hr>
    <div>
        <a href="/recipes/random">랜덤 레시피 보기</a> | 
        <a href="/recipes/categories">카테고리 보기</a>
    </div>
</body>
</html>
