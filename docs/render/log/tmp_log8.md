# https://recipemate-81po.onrender.com/ 홈화면에 접속할 시 500 Internal Server Error

com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id 'java.util.ImmutableCollections$ListN' as a subtype of `java.util.List<com.recipemate.domain.recipe.dto.RecipeListResponse$RecipeSimpleInfo>`: Configured `PolymorphicTypeValidator` (of type `com.fasterxml.jackson.databind.jsontype.BasicPolymorphicTypeValidator`) denied resolution

at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 107] (through reference chain: com.recipemate.domain.recipe.dto.RecipeListResponse["recipes"]) ] with root cause
2025-11-25T01:28:28.720Z ERROR 1 --- [RecipeMate] [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.redis.serializer.SerializationException: Could not read JSON:Could not resolve type id 'java.util.ImmutableCollections$ListN' as a subtype of `java.util.List<com.recipemate.domain.recipe.dto.RecipeListResponse$RecipeSimpleInfo>`: Configured `PolymorphicTypeValidator` (of type `com.fasterxml.jackson.databind.jsontype.BasicPolymorphicTypeValidator`) denied resolution

---

# https://recipemate-81po.onrender.com/group-purchases/list 접속할 시 500 Internal Server Error

	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736)

Position: 176
Caused by: org.postgresql.util.PSQLException: ERROR: column "h1_0.id" must appear in the GROUP BY clause or be used in an aggregate function

Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select gb1_0.id,gb1_0.category,gb1_0.content,gb1_0.created_at,gb1_0.current_amount,gb1_0.current_headcount,gb1_0.deadline,gb1_0.deleted_at,gb1_0.delivery_method,gb1_0.host_id,h1_0.id,h1_0.comment_notification,h1_0.created_at,h1_0.deleted_at,h1_0.email,h1_0.group_purchase_notification,h1_0.manner_temperature,h1_0.nickname,h1_0.password,h1_0.phone_number,h1_0.points,h1_0.profile_image_url,h1_0.role,h1_0.updated_at,gb1_0.ingredients,gb1_0.is_participant_list_public,gb1_0.latitude,gb1_0.longitude,gb1_0.meetup_location,gb1_0.parcel_fee,gb1_0.recipe_api_id,gb1_0.recipe_image_url,gb1_0.recipe_name,gb1_0.status,gb1_0.target_amount,gb1_0.target_headcount,gb1_0.title,gb1_0.updated_at,gb1_0.version,coalesce(avg(r1_0.rating),?),count(r1_0.id) from group_buys gb1_0 left join users h1_0 on h1_0.id=gb1_0.host_id left join reviews r1_0 on r1_0.group_buy_id=gb1_0.id where gb1_0.deleted_at is null group by gb1_0.id order by gb1_0.created_at desc offset ? rows fetch first ? rows only] [ERROR: column "h1_0.id" must appear in the GROUP BY clause or be used in an aggregate function

	at com.recipemate.domain.groupbuy.repository.GroupBuyRepositoryImpl$$SpringCGLIB$$0.searchGroupBuysWithReviewStats(<generated>)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
Position: 176] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select gb1_0.id,gb1_0.category,gb1_0.content,gb1_0.created_at,gb1_0.current_amount,gb1_0.current_headcount,gb1_0.deadline,gb1_0.deleted_at,gb1_0.delivery_method,gb1_0.host_id,h1_0.id,h1_0.comment_notification,h1_0.created_at,h1_0.deleted_at,h1_0.email,h1_0.group_purchase_notification,h1_0.manner_temperature,h1_0.nickname,h1_0.password,h1_0.phone_number,h1_0.points,h1_0.profile_image_url,h1_0.role,h1_0.updated_at,gb1_0.ingredients,gb1_0.is_participant_list_public,gb1_0.latitude,gb1_0.longitude,gb1_0.meetup_location,gb1_0.parcel_fee,gb1_0.recipe_api_id,gb1_0.recipe_image_url,gb1_0.recipe_name,gb1_0.status,gb1_0.target_amount,gb1_0.target_headcount,gb1_0.title,gb1_0.updated_at,gb1_0.version,coalesce(avg(r1_0.rating),?),count(r1_0.id) from group_buys gb1_0 left join users h1_0 on h1_0.id=gb1_0.host_id left join reviews r1_0 on r1_0.group_buy_id=gb1_0.id where gb1_0.deleted_at is null group by gb1_0.id order by gb1_0.created_at desc offset ? rows fetch first ? rows only] [ERROR: column "h1_0.id" must appear in the GROUP BY clause or be used in an aggregate function
Position: 176] [n/a]; SQL [n/a]
Unexpected error: JDBC exception executing SQL [select gb1_0.id,gb1_0.category,gb1_0.content,gb1_0.created_at,gb1_0.current_amount,gb1_0.current_headcount,gb1_0.deadline,gb1_0.deleted_at,gb1_0.delivery_method,gb1_0.host_id,h1_0.id,h1_0.comment_notification,h1_0.created_at,h1_0.deleted_at,h1_0.email,h1_0.group_purchase_notification,h1_0.manner_temperature,h1_0.nickname,h1_0.password,h1_0.phone_number,h1_0.points,h1_0.profile_image_url,h1_0.role,h1_0.updated_at,gb1_0.ingredients,gb1_0.is_participant_list_public,gb1_0.latitude,gb1_0.longitude,gb1_0.meetup_location,gb1_0.parcel_fee,gb1_0.recipe_api_id,gb1_0.recipe_image_url,gb1_0.recipe_name,gb1_0.status,gb1_0.target_amount,gb1_0.target_headcount,gb1_0.title,gb1_0.updated_at,gb1_0.version,coalesce(avg(r1_0.rating),?),count(r1_0.id) from group_buys gb1_0 left join users h1_0 on h1_0.id=gb1_0.host_id left join reviews r1_0 on r1_0.group_buy_id=gb1_0.id where gb1_0.deleted_at is null group by gb1_0.id order by gb1_0.created_at desc offset ? rows fetch first ? rows only] [ERROR: column "h1_0.id" must appear in the GROUP BY clause or be used in an aggregate function
Position: 176
2025-11-25T01:37:30.252Z ERROR 1 --- [RecipeMate] [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column "h1_0.id" must appear in the GROUP BY clause or be used in an aggregate function
2025-11-25T01:37:30.252Z  WARN 1 --- [RecipeMate] [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42803

---

# 참고(에러는 아님)
2025-11-25T01:20:11.353Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.wishlist.repository.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository

2025-11-25T01:20:11.353Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.352Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.user.repository.PointHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.352Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.user.repository.PersistentTokenJpaRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.352Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.user.repository.MannerTempHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.352Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.user.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.352Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.search.repository.SearchKeywordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.351Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.review.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.351Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.report.repository.ReportRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.351Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.recipewishlist.repository.RecipeWishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.351Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.recipe.repository.RecipeStepRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.350Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.recipe.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.350Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.recipe.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.250Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.recipe.repository.RecipeCorrectionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.250Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.post.repository.PostRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.249Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.post.repository.PostImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.249Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.notification.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.248Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.like.repository.PostLikeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.156Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.like.repository.CommentLikeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.155Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.groupbuy.repository.ParticipationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.155Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.groupbuy.repository.GroupBuyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.155Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.groupbuy.repository.GroupBuyImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.155Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.directmessage.repository.DirectMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.154Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.comment.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25T01:20:11.153Z  INFO 1 --- [RecipeMate] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.recipemate.domain.badge.repository.BadgeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository