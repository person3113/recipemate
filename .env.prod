# RecipeMate API - Production Environment
# 운영 환경 설정 (실제 배포용)

# =====================================================
# Spring Profile
# =====================================================
SPRING_PROFILES_ACTIVE=prod

# =====================================================
# Database Configuration (Production PostgreSQL)
# =====================================================
# 보안: Secrets Manager 사용 권장 (AWS Secrets Manager, Azure Key Vault 등)
DB_USERNAME=recipemate_prod
DB_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# =====================================================
# Redis Configuration
# =====================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_TO_STRONG_REDIS_PASSWORD

# =====================================================
# Food Safety Korea API Key
# =====================================================
# 실제 API 키 입력 필수
# Get your API key: https://www.foodsafetykorea.go.kr/api/
FOOD_SAFETY_API_KEY=YOUR_ACTUAL_API_KEY_HERE

# =====================================================
# Recipe 초기화 및 동기화 설정
# =====================================================
# 초기 데이터 로드 (최초 배포 시에만 true)
RECIPE_INIT_ENABLED=false

# 강제 초기화 (운영에서는 항상 false)
RECIPE_INIT_FORCE=false

# 스케줄링 활성화 (주기적 동기화)
RECIPE_SYNC_ENABLED=true

# 동기화 주기: 매주 일요일 새벽 3시
RECIPE_SYNC_CRON=0 0 3 * * SUN

# =====================================================
# 보안 체크리스트
# =====================================================
# ✅ DB_PASSWORD: 16자 이상, 대소문자+숫자+특수문자 혼합
# ✅ REDIS_PASSWORD: 16자 이상, 대소문자+숫자+특수문자 혼합
# ✅ FOOD_SAFETY_API_KEY: 실제 발급받은 키 사용
# ✅ 이 파일을 Git에 커밋하지 마세요 (.gitignore에 포함됨)
# ✅ 환경변수는 CI/CD 파이프라인에서 주입하거나 Secrets Manager 사용
# ✅ 비밀번호는 90일마다 교체 권장

# =====================================================
# 최초 배포 시
# =====================================================
# 1. DB 스키마 생성 (Flyway/Liquibase 또는 수동)
# 2. RECIPE_INIT_ENABLED=true로 설정하고 배포
# 3. 초기 데이터 로드 완료 확인
# 4. RECIPE_INIT_ENABLED=false로 변경하고 재배포

# =====================================================
# 사용법
# =====================================================
# docker-compose --env-file .env.prod up -d
#
# 또는 CI/CD에서:
# export $(cat .env.prod | xargs) && docker-compose up -d
