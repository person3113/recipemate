# 마이페이지 및 헤더 UI/UX 개편 계획 (v2)

## 1. 현황 분석 및 문제점

### 1.1. 헤더 (`header.html`)
- **문제점**: 인증된 사용자의 '내 메뉴' 드롭다운이 너무 많은 항목(마이페이지, 알림, 찜 목록, 내 레시피 등)을 나열하고 있어 복잡하고, 기능의 중요도가 구분되지 않습니다.
- **UI/UX 저해 요소**: 알림, 쪽지처럼 자주 확인해야 하는 기능이 여러 단계의 클릭을 거쳐야 접근 가능하여 편의성이 떨어집니다.

### 1.2. 마이페이지 (`/users/me`)
- **문제점**: 정보 조회, 수많은 바로가기 링크, 프로필/비밀번호 수정 폼이 한 화면에 혼재되어 있어 매우 복잡하고 가독성이 떨어집니다.
- **UI/UX 저해 요소**:
    - 페이지의 명확한 목적(정보 조회 vs. 편집)이 불분명합니다.
    - '바로가기' 섹션이 단순 목록으로 나열되어 있어 어수선하고 사용자가 원하는 기능을 찾기 어렵습니다.

## 2. 개선 목표 (디자이너 관점)

- **직관적인 네비게이션**: 상용 서비스 트렌드에 맞춰 헤더에 아이콘 기반의 네비게이션을 도입하여 핵심 기능(알림, 쪽지)에 대한 접근성을 극대화합니다.
- **역할의 명확한 분리**:
    - **헤더**: 사이트 전역에서 접근하는 글로벌 기능 담당.
    - **마이페이지**: 사용자의 콘텐츠와 활동 내역을 보여주는 '대시보드' 역할.
    - **설정 페이지**: 프로필 수정, 비밀번호 변경 등 계정 관련 '구성' 기능 담당.
- **현대적인 대시보드 디자인**: 마이페이지에 탭 인터페이스를 도입하여 사용자의 활동 내역을 체계적으로 분류하고 보여줍니다.

## 3. 세부 개편 계획

### 3.1. `헤더` 개편 (`header.html`)

- **'내 메뉴' 드롭다운 리뉴얼**: 기존의 긴 텍스트 목록을 아이콘 기반의 바로가기와 간소화된 드롭다운 메뉴로 변경합니다.
- **UI Mockup (ASCII)**:
    - **비로그인 사용자**:
        ```
        ┌──────────────────────────────────────────────────────────────────────────┐
        │ [Logo] RecipeMate [통합 검색창]      [레시피] [공동구매] [커뮤니티] [로그인] [회원가입] │
        └──────────────────────────────────────────────────────────────────────────┘
        ```
    - **로그인 사용자**:
        ```
        ┌──────────────────────────────────────────────────────────────────────────┐
        │ [Logo] RecipeMate [통합 검색창]      [레시피] [공동구매] [커뮤니티]  [🔔]  [✉️]  [👤] │
        └──────────────────────────────────────────────────────────────────────────┘
        ```
- **아이콘 기반 바로가기 (로그인 시)**:
    - **알림 아이콘 (🔔)**: `/users/me/notifications`로 연결. 읽지 않은 알림이 있을 경우 뱃지(dot) 표시.
    - **쪽지 아이콘 (✉️)**: `/direct-messages/contacts`로 연결. 읽지 않은 쪽지가 있을 경우 뱃지(dot) 표시.
- **프로필 아이콘 (👤) 드롭다운 메뉴 (로그인 시)**:
    - `마이페이지`: `/users/me` (활동 대시보드)
    - `찜 목록`: `/users/me/bookmarks`
    - `설정`: `/users/me/settings` (신설)
    - `로그아웃`

### 3.2. `마이페이지` 개편 (`my-page.html`)

- **역할**: 사용자의 모든 활동을 모아보는 '활동 대시보드'로 재정의.
- **상단: 프로필 요약 섹션**:
    - 프로필 이미지, 닉네임, 이메일.
    - **핵심 스탯 그리드**: 사용자의 주요 지표를 3개의 카드 형태로 나열. (사용자 피드백 반영)
        - **매너온도 카드**: 클릭 시 `/users/me/manner-histories`로 이동.
        - **포인트 카드**: 클릭 시 `/users/me/points`로 이동.
        - **보유 배지 카드**: 클릭 시 `/users/me/badges`로 이동.
    - **'설정' 페이지로 이동하는 버튼** (`<i class="bi bi-gear"></i> 프로필 및 계정 설정`)을 명확하게 배치.
- **하단: 활동 내역 탭**:
    - 사용자의 콘텐츠를 종류별로 묶어 보여주는 탭(Tab) 인터페이스 도입.
    - **[내 커뮤니티 활동] 탭**: 내가 작성한 게시글, 댓글/대댓글 모음.
    - **[작성한 레시피] 탭**: 내가 작성한 레시피 목록.
    - **[주최한 공구] 탭**: 내가 주최한 공동구매 목록.
    - **[참여한 공구] 탭**: 내가 참여한 공동구매 목록.
- **UI Mockup (ASCII)**:
    ```
    ┌───────────────────────────────────────────────────┐
    │ 🖼️ [프로필 이미지] 홍길동 (hong@example.com)      │
    │ [⚙️ 프로필 및 계정 설정]                            │
    ├───────────────────────────────────────────────────┤
    │  ┌───────────┐  ┌───────────┐  ┌───────────┐      │
    │  │ 🌡️ 36.5°C │  │ 💰 1,500 P │  │ 🏆 5개    │      │
    │  │ (매너온도)  │  │ (포인트)    │  │ (보유 배지) │      │
    │  └───────────┘  └───────────┘  └───────────┘      │
    ├───────────────────────────────────────────────────┤
    │  [내 커뮤니티 활동] [작성한 레시피] [주최한 공구] ... │
    ├───────────────────────────────────────────────────┤
    │                                                   │
    │  (선택된 탭의 콘텐츠가 여기에 표시됩니다)           │
    │                                                   │
    └───────────────────────────────────────────────────┘
    ```

### 3.3. `설정 페이지` 신설 (`settings.html`)

- **URL**: `/users/me/settings`
- **기능**: 기존 마이페이지에 있던 '프로필 수정', '비밀번호 변경' 폼을 이전. 향후 '알림 설정', '배송지 관리', '계정 탈퇴' 기능 추가 공간.
- **구현**: `UserController`에 `mySettingsPage()` 메소드 추가, `templates/user/settings.html` 템플릿 신설.

### 3.4. `프로필 페이지` 개선 (`profile.html`)

- **기능 추가**: 사용자 정보 영역에 **'쪽지 보내기' 버튼 추가**. (`/direct-messages/conversation/{userId}`)
- **선결 과제**:
    - **(필수)** `UserProfileResponseDto`에 `private Long id;` 필드 추가.
    - **(필수)** `UserService`의 `getUserProfile` 메소드에서 `User` 엔티티의 `id`를 DTO에 매핑.

## 4. 구현 단계

1.  **DTO/서비스 수정**: `UserProfileResponseDto`에 `id` 필드를 추가하고 `UserService`에서 값을 채우도록 수정.
2.  **Controller 수정**: `UserController`에 `mySettingsPage()` 메소드 추가.
3.  **템플릿 신설**: `settings.html` 템플릿을 생성하고 프로필/비밀번호 변경 폼 이전.
4.  **헤더 리팩토링**: `header.html`의 사용자 메뉴를 아이콘과 새로운 드롭다운으로 개편.
5.  **마이페이지 리팩토링**: `my-page.html`을 스탯 그리드와 탭 기반의 대시보드로 개편.
6.  **프로필 페이지 수정**: `profile.html`에 '쪽지 보내기' 버튼 추가.
7.  **테스트**: 변경된 모든 페이지의 기능과 링크가 정상적으로 동작하는지 확인.

---
*이 문서는 제안된 개편안이며, 실제 구현 시 세부 디자인은 달라질 수 있습니다.*
