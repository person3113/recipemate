
## ✍️ 4. 공구 만들기 페이지

### 📍 화면 구성

```
┌───────────────────────────────────────────────┐
│         공동구매 만들기 📝                       │
├───────────────────────────────────────────────┤
│  공구 유형 선택:                                │
│  ⚪ 일반 공구  ⚪ 레시피 기반 공구 (🍳추천!)      │
├───────────────────────────────────────────────┤
│  [레시피 기반 선택 시 추가 섹션]                 │
│  ┌───────────────────────────────────────┐    │
│  │ 🔍 [레시피 선택하기] 버튼                 │    │
│  │                                           │    │
│  │ 선택된 레시피: 🍝 까르보나라 파스타        │    │
│  │ [레시피 이미지]                           │    │
│  │                                           │    │
│  │ 📝 재료 목록 (자동 입력됨):                │    │
│  │ ☑️ 스파게티 면 400g                       │    │
│  │ ☑️ 베이컨 200g                           │    │
│  │ ☐ 달걀 4개 (체크 해제 가능)               │    │
│  │ ☑️ 파마산 치즈 100g                       │    │
│  │ ...                                       │    │
│  │                                           │    │
│  │ 인원 설정: [- 4 +] 명                     │    │
│  │ → 1인당 예상 가격: 자동 계산 표시         │    │
│  └───────────────────────────────────────┘    │
├───────────────────────────────────────────────┤
│  제목 *: [                                  ]  │
│          (레시피 기반이면 자동: "[레시피명] 재료")│
│                                                │
│  내용 *:                                       │
│  ┌───────────────────────────────────────┐    │
│  │ (레시피 기반이면 자동 입력:               │    │
│  │  "이 레시피를 만들기 위한 재료입니다"     │    │
│  │  + 재료 목록 나열)                        │    │
│  │                                           │    │
│  │  수정 가능                                │    │
│  └───────────────────────────────────────┘    │
│                                                │
│  카테고리 *: [식재료 ▼] (자동 선택, 변경 가능)  │
│                                                │
│  이미지: [파일 선택] (최대 3장)                 │
│          (레시피 이미지 자동 첨부, 추가 가능)   │
│                                                │
│  가격 *:                                       │
│  총 금액: [          ] 원                      │
│  목표 인원: [        ] 명                      │
│  → 1인당 가격: 0원 (자동 계산)                 │
│                                                │
│  마감일 *: [2025-11-15] 📅                    │
│                                                │
│  수령 방법 *:                                  │
│  ⚪ 직거래  ⚪ 택배  ⚪ 직거래+택배              │
│                                                │
│  [직거래 선택 시]                              │
│  만남 장소: [서울대학교 정문         ]          │
│                                                │
│  [택배 선택 시]                                │
│  택배비: [          ] 원 (1인당)               │
│                                                │
│  참여자 목록 공개:                              │
│  ⚪ 공개 (모든 사람이 볼 수 있음)                │
│  ⚪ 비공개 (주최자만 볼 수 있음)                 │
├───────────────────────────────────────────────┤
│     [취소]  [미리보기]  [등록하기] 버튼          │
└───────────────────────────────────────────────┘

```

### 🎬 사용자 액션 흐름

### 1) 공구 유형 선택

- **일반 공구**: 기존 방식, 모든 항목 수동 입력
- **레시피 기반 공구**: 레시피 연동, 자동 입력 혜택

### 2) [레시피 선택하기] 버튼 (레시피 기반 선택 시)

- **클릭**: 레시피 검색 팝업 또는 페이지 오픈
- **레시피 탐색**: 검색/필터로 원하는 레시피 찾기
- **선택**: 레시피 카드 클릭 → "이 레시피 선택" 버튼
- **자동 입력**:
    - 제목: "[레시피명] 재료 공동구매"
    - 내용: 재료 목록 자동 나열
    - 이미지: 레시피 이미지 첨부
    - 카테고리: 레시피 카테고리로 자동 설정
    - 재료 목록: strIngredient1~20 자동 체크박스 생성

### 3) 재료 체크박스 조작

- **체크/해제**: 필요 없는 재료 제외 가능
- **분량 수정**: 각 재료의 분량 직접 입력 가능 (strMeasure 수정)
- **재료 추가**: [+ 재료 추가] 버튼으로 추가 재료 입력 가능

### 4) 인원 설정 및 가격 자동 계산

- **인원 변경**: [+]/[-] 버튼 또는 직접 입력
- **총 금액 입력**: 예: 60,000원
- **자동 계산**:
    - 60,000원 ÷ 5명 = 12,000원/인
    - 실시간 표시: "1인당 12,000원"
- **인원 변경 시**: 1인당 가격 자동 재계산

### 5) 제목/내용 입력

- **레시피 기반**: 자동 입력되지만 수정 가능
- **일반 공구**: 직접 입력
- **최대 길이**: 제목 50자, 내용 1,000자
- **유효성 검사**: 제목/내용 필수 입력

### 6) 카테고리 선택

- **드롭다운**: [식재료] [간식] [음료] [조리도구] [기타]
- **레시피 기반**: 자동 선택되지만 변경 가능

### 7) 이미지 업로드

- **[파일 선택] 버튼**: 클릭 시 파일 탐색기
- **업로드**: 최대 3장, JPG/PNG, 각 5MB 이하
- **레시피 기반**: 레시피 이미지 자동 첨부, 추가 이미지 업로드 가능
~~- **미리보기**: 업로드 즉시 썸네일 표시~~
- **삭제**: 각 이미지에 [X] 버튼

### 8) 가격 및 인원 입력

- **총 금액**: 숫자만 입력 (콤마 자동 입력)
- **목표 인원**: 2명 이상 (최대 100명)
- **실시간 계산**: 입력 즉시 1인당 가격 표시

### 9) 마감일 선택

- **달력 위젯**: 클릭 시 달력 팝업
- **제약**: 오늘 이후 날짜만 선택 가능
~~- **권장**: 1주일 이내 (안내 문구)~~

### 10) 수령 방법 선택

- **직거래**: 만남 장소 입력 필드 표시
    - 예: "서울대학교 정문", "강남역 3번 출구"
- **택배**: 택배비 입력 필드 표시
    - 1인당 택배비 (예: 3,000원)
- **직거래+택배**: 둘 다 표시, 참여자가 선택 가능

### 11) 참여자 목록 공개 여부

- **공개**: 누구나 참여자 목록 볼 수 있음 (닉네임만)
- **비공개**: 주최자만 참여자 정보 확인 가능

~~### 12) [미리보기] 버튼~~

~~- **클릭**: 입력한 내용으로 공구 상세 페이지 미리보기 팝업~~
~~- **확인**: 문제 없으면 팝업 닫고 [등록하기]~~

### 13) [등록하기] 버튼

- **유효성 검사**:
    - 필수 항목 입력 확인 (*)
    - 가격 0원 이상
    - 인원 2명 이상
    - 마감일 오늘 이후
- **성공**:
    - "공구가 등록되었습니다" 알림
    - 해당 공구 상세 페이지로 이동
- **실패**:
    - 오류 메시지 표시 (필드별)
    - 해당 필드로 스크롤

### 14) [취소] 버튼

- **클릭**: "작성 중인 내용이 사라집니다. 취소하시겠습니까?" 확인 창
- **확인**: 이전 페이지로 이동
- **취소**: 현재 페이지 유지

---