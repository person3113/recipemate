<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>랜덤 레시피 - RecipeMate</title>
</head>
<body>
    <h1>랜덤 레시피 추천</h1>
    
    <!-- Count Form -->
    <form method="get" action="/recipes/random">
        <label for="count">개수:</label>
        <input type="number" id="count" name="count" th:value="${count}" min="1" max="100" value="5">
        <button type="submit">다시 추천받기</button>
    </form>
    
    <!-- Random Recipe List -->
    <div th:if="${recipes != null}">
        <p>총 <span th:text="${recipes.totalCount}"></span>개의 랜덤 레시피를 추천합니다.</p>
        
        <div th:if="${!recipes.recipes.isEmpty()}">
            <div th:each="recipe : ${recipes.recipes}" class="recipe-item">
                <h3><a th:href="@{/recipes/{id}(id=${recipe.id})}" th:text="${recipe.name}"></a></h3>
                <img th:if="${recipe.imageUrl != null}" th:src="${recipe.imageUrl}" th:alt="${recipe.name}" width="200">
                <p>카테고리: <span th:text="${recipe.category}"></span></p>
                <p>출처: <span th:text="${recipe.source}"></span></p>
            </div>
        </div>
        
        <div th:if="${recipes.recipes.isEmpty()}">
            <p>랜덤 레시피를 가져올 수 없습니다. 다시 시도해주세요.</p>
        </div>
    </div>
    
    <hr>
    <div>
        <a href="/recipes">레시피 검색</a> | 
        <a href="/recipes/categories">카테고리 보기</a>
    </div>
</body>
</html>
